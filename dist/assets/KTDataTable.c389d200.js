import{d as y,A as b,af as $,f,_ as v,i as d,k as u,B as N,ax as A,n as T,F as S,j as _,o as l,p as k,H as w,I as E,l as I,z as q,x as R,r as h,q as P,m as B,ay as O,w as V,ak as F}from"./index.69b36d76.js";import{g as D}from"./assets.627312db.js";const M=y({name:"table-head-row",props:{checkboxEnabledValue:{type:Boolean,required:!1,default:!1},checkboxEnabled:{type:Boolean,required:!1,default:!1},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},header:{type:Array,required:!0}},emits:["on-select","on-sort"],components:{},setup(e,{emit:t}){const n=b(!1),o=b({label:e.sortLabel,order:e.sortOrder});$(()=>e.checkboxEnabledValue,s=>{n.value=s});const c=()=>{t("on-select",n.value)},g=(s,i)=>{i&&(o.value.label===s?o.value.order==="asc"?o.value.order="desc":o.value.order==="desc"&&(o.value.order="asc"):(o.value.order="asc",o.value.label=s),t("on-sort",o.value))},a=f(()=>o.value.order==="asc"?"&#x2191;":"&#x2193;");return{onSort:g,selectAll:c,checked:n,sortArrow:a,columnLabelAndOrder:o}}}),H={class:"w-100"},j={class:"text-start text-gray-400 fw-bold fs-7 text-uppercase gs-0"},U={key:0,style:{width:"30px"}},z={class:"form-check form-check-sm form-check-custom form-check-solid me-3"},W=["onClickPassive"],K=["innerHTML"];function G(e,t,n,o,c,g){return l(),d("thead",H,[u("tr",j,[e.checkboxEnabled?(l(),d("th",U,[u("div",z,[N(u("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=a=>e.checked=a),onChange:t[1]||(t[1]=a=>e.selectAll())},null,544),[[A,e.checked]])])])):T("",!0),(l(!0),d(S,null,_(e.header,(a,s)=>(l(),d("th",{key:s,class:k({"text-end":s===e.header.length-1}),onClickPassive:i=>e.onSort(a.columnLabel,a.sortEnabled),style:w({minWidth:a.columnWidth?`${a.columnWidth}px`:"0",width:"auto",cursor:a.sortEnabled?"pointer":"auto"})},[E(I(a.columnName)+" ",1),e.columnLabelAndOrder.label===a.columnLabel&&a.sortEnabled?(l(),d("span",{key:0,innerHTML:e.sortArrow},null,8,K)):T("",!0)],46,W))),128))])])}const J=v(M,[["render",G]]),Q=y({name:"table-body-row",components:{},props:{header:{type:Array,required:!0},data:{type:Array,required:!0},currentlySelectedItems:{type:Array,required:!1,default:()=>[]},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"}},emits:["on-select","custom-row"],setup(e,{emit:t}){const n=b([]),o=b();return $(()=>[...e.currentlySelectedItems],a=>{e.currentlySelectedItems.length!==0?n.value=[...new Set([...n.value,...a])]:n.value=[]}),{selectedItems:n,onChange:()=>{t("on-select",n.value)},customRow:a=>{o.value=a,t("custom-row",o.value)},selectRow:o}}});const X={class:"fw-semibold text-gray-600"},Y={key:0},Z={class:"form-check form-check-sm form-check-custom form-check-solid"},x=["value"],ee={key:0,class:"text-end"},te=["onClickPassive"];function ae(e,t,n,o,c,g){return l(),d("tbody",X,[(l(!0),d(S,null,_(e.data,(a,s)=>(l(),d("tr",{key:s},[e.checkboxEnabled?(l(),d("td",Y,[u("div",Z,[N(u("input",{class:"form-check-input",type:"checkbox",value:a[e.checkboxLabel],"onUpdate:modelValue":t[0]||(t[0]=i=>e.selectedItems=i),onChange:t[1]||(t[1]=(...i)=>e.onChange&&e.onChange(...i))},null,40,x),[[A,e.selectedItems]])])])):T("",!0),(l(!0),d(S,null,_(e.header,(i,p)=>(l(),d(S,{key:p},[i.columnLabel=="actions"?(l(),d("td",ee,[q(e.$slots,`${i.columnLabel}`,{row:a},()=>[E(I(a),1)])])):(l(),d("td",{key:1,class:"cursor-pointer",onClickPassive:r=>e.customRow(a),"data-bs-target":"#kt_modal_detail"},[q(e.$slots,`${i.columnLabel}`,{row:a},()=>[E(I(a),1)])],40,te))],64))),128))]))),128))])}const ne=v(Q,[["render",ae]]),oe=y({name:"kt-loading",components:{}});const se={class:"overlay-layer card-rounded bg-dark bg-opacity-5"},le=u("div",{class:"spinner-border text-primary",role:"status"},[u("span",{class:"visually-hidden"},"Loading...")],-1),re=[le];function ie(e,t,n,o,c,g){return l(),d("div",se,re)}const ue=v(oe,[["render",ie]]),ce=y({name:"table-body",props:{header:{type:Array,required:!0},data:{type:Array,required:!0},emptyTableText:{type:String,default:"No data found"},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"},loading:{type:Boolean,required:!1,default:!1}},emits:["on-sort","on-items-select","custom-row"],components:{TableHeadRow:J,TableBodyRow:ne,Loading:ue},setup(e,{emit:t}){const n=b([]),o=b([]),c=b(!1),g=b();$(()=>e.data,()=>{n.value=[],o.value=[],c.value=!1,e.data.forEach(r=>{r[e.checkboxLabel]&&o.value.push(r[e.checkboxLabel])})});const a=r=>{c.value=r,r?n.value=[...new Set([...n.value,...o.value])]:n.value=[]},s=r=>{n.value=[],r.forEach(m=>{n.value.includes(m)||n.value.push(m)})},i=r=>{t("on-sort",r)};$(()=>[...n.value],r=>{r&&t("on-items-select",r)});const p=r=>{g.value=r,t("custom-row",g.value)};return R(()=>{n.value=[],o.value=[],c.value=!1,e.data.forEach(r=>{r[e.checkboxLabel]&&o.value.push(r[e.checkboxLabel])})}),{onSort:i,selectedItems:n,selectAll:a,itemsSelect:s,check:c,selectRow:g,customRowTable:p}}}),de={class:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"},ge={key:1,class:"odd"},me={colspan:"7",class:"dataTables_empty"};function be(e,t,n,o,c,g){const a=h("TableHeadRow"),s=h("TableBodyRow"),i=h("Loading");return l(),d("div",{class:k(["table-responsive px-5",[e.loading&&"overlay overlay-block"]])},[u("table",de,[P(a,{onOnSort:e.onSort,onOnSelect:e.selectAll,checkboxEnabledValue:e.check,checkboxEnabled:e.checkboxEnabled,"sort-label":e.sortLabel,"sort-order":e.sortOrder,header:e.header},null,8,["onOnSort","onOnSelect","checkboxEnabledValue","checkboxEnabled","sort-label","sort-order","header"]),e.data.length!==0?(l(),B(s,{key:0,onOnSelect:e.itemsSelect,onCustomRow:e.customRowTable,currentlySelectedItems:e.selectedItems,data:e.data,header:e.header,"checkbox-enabled":e.checkboxEnabled,"checkbox-label":e.checkboxLabel},O({_:2},[_(e.$slots,(p,r)=>({name:r,fn:V(({row:m})=>[q(e.$slots,r,{row:m})])}))]),1032,["onOnSelect","onCustomRow","currentlySelectedItems","data","header","checkbox-enabled","checkbox-label"])):(l(),d("tr",ge,[u("td",me,I(e.emptyTableText),1)])),e.loading?(l(),B(i,{key:2})):T("",!0)])],2)}const pe=v(ce,[["render",be]]),fe=y({name:"table-items-per-page-select",components:{},props:{itemsPerPage:{type:Number,default:10},itemsPerPageDropdownEnabled:{type:Boolean,required:!1,default:!0}},emits:["update:itemsPerPage"],setup(e,{emit:t}){const n=b(10);return R(()=>{n.value=e.itemsPerPage}),{itemsCountInTable:f({get(){return e.itemsPerPage},set(c){t("update:itemsPerPage",c)}})}}}),Pe={class:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"},he={for:"items-per-page"},ye=u("option",{value:10},"10",-1),ve=u("option",{value:20},"20",-1),ke=u("option",{value:50},"50",-1),$e=[ye,ve,ke];function Ce(e,t,n,o,c,g){return l(),d("div",Pe,[u("label",he,[e.itemsPerPageDropdownEnabled?N((l(),d("select",{key:0,class:"form-select form-select-sm form-select-solid","onUpdate:modelValue":t[0]||(t[0]=a=>e.itemsCountInTable=a),name:"items-per-page",id:"items-per-page"},$e,512)),[[F,e.itemsCountInTable]]):T("",!0)])])}const we=v(fe,[["render",Ce]]),Te=y({name:"table-pagination",components:{},props:{maxVisibleButtons:{type:Number,required:!1,default:5},totalPages:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!0}},emits:["page-change"],setup(e,{emit:t}){const n=f(()=>e.totalPages<e.maxVisibleButtons||e.currentPage===1||e.currentPage<=Math.floor(e.maxVisibleButtons/2)||e.currentPage+2>e.totalPages&&e.totalPages===e.maxVisibleButtons?1:e.currentPage+2>e.totalPages?e.totalPages-e.maxVisibleButtons+1:e.currentPage-2),o=f(()=>Math.min(n.value+e.maxVisibleButtons-1,e.totalPages)),c=f(()=>{const C=[];for(let L=n.value;L<=o.value;L+=1)C.push({name:L,isDisabled:L===e.currentPage});return C}),g=f(()=>e.currentPage===1),a=f(()=>e.currentPage===e.totalPages);return{startPage:n,endPage:o,pages:c,isInFirstPage:g,isInLastPage:a,onClickFirstPage:()=>{t("page-change",1)},onClickPreviousPage:()=>{t("page-change",e.currentPage-1)},onClickPage:C=>{t("page-change",C)},onClickNextPage:()=>{t("page-change",e.currentPage+1)},onClickLastPage:()=>{t("page-change",e.totalPages)},isPageActive:C=>e.currentPage===C,getAssetPath:D}}});const _e={class:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end"},Se={class:"dataTables_paginate paging_simple_numbers"},Ie={class:"pagination"},Le=["onClickPassive"];function qe(e,t,n,o,c,g){const a=h("KTIcon");return l(),d("div",_e,[u("div",Se,[u("ul",Ie,[u("li",{class:k(["paginate_button page-item",{disabled:e.isInFirstPage}]),style:w({cursor:e.isInFirstPage?"auto":"pointer"})},[u("a",{class:"page-link",onClickPassive:t[0]||(t[0]=(...s)=>e.onClickFirstPage&&e.onClickFirstPage(...s))},[P(a,{"icon-name":"double-left","icon-class":"fs-2"})],32)],6),u("li",{class:k(["paginate_button page-item",{disabled:e.isInFirstPage}]),style:w({cursor:e.isInFirstPage?"auto":"pointer"})},[u("a",{class:"page-link",onClickPassive:t[1]||(t[1]=(...s)=>e.onClickPreviousPage&&e.onClickPreviousPage(...s))},[P(a,{"icon-name":"left","icon-class":"fs-2"})],32)],6),(l(!0),d(S,null,_(e.pages,(s,i)=>(l(),d("li",{class:k(["paginate_button page-item",{active:e.isPageActive(s.name)}]),style:w({cursor:s.isDisabled?"auto":"pointer"}),key:i},[u("a",{class:"page-link",onClickPassive:p=>e.onClickPage(s.name)},I(s.name),41,Le)],6))),128)),u("li",{class:k(["paginate_button page-item",{disabled:e.isInLastPage}]),style:w({cursor:e.isInLastPage?"auto":"pointer"})},[u("a",{class:"paginate_button page-link",onClickPassive:t[2]||(t[2]=(...s)=>e.onClickNextPage&&e.onClickNextPage(...s))},[P(a,{"icon-name":"right","icon-class":"fs-2"})],32)],6),u("li",{class:k(["paginate_button page-item",{disabled:e.isInLastPage}]),style:w({cursor:e.isInLastPage?"auto":"pointer"})},[u("a",{class:"paginate_button page-link",onClickPassive:t[3]||(t[3]=(...s)=>e.onClickLastPage&&e.onClickLastPage(...s))},[P(a,{"icon-name":"double-right","icon-class":"fs-2"})],32)],6)])])])}const Ee=v(Te,[["render",qe]]),Be=y({name:"table-footer",components:{TableItemsPerPageSelect:we,TablePagination:Ee},props:{count:{type:Number,required:!1,default:5},itemsPerPage:{type:Number,default:5},itemsPerPageDropdownEnabled:{type:Boolean,required:!1,default:!0},currentPage:{type:Number,required:!1,default:1}},emits:["update:itemsPerPage","page-change"],setup(e,{emit:t}){const n=b(e.currentPage),o=b(e.itemsPerPage);$(()=>e.count,()=>{n.value=1}),$(()=>o.value,()=>{n.value=1}),R(()=>{o.value=e.itemsPerPage});const c=s=>{n.value=s,t("page-change",n.value)},g=f({get(){return e.itemsPerPage},set(s){o.value=s,t("update:itemsPerPage",s)}}),a=f(()=>Math.ceil(e.count/g.value));return{pageChange:c,pageCount:a,page:n,itemsCountInTable:g,inputItemsPerPage:o}}}),Ne={class:"row px-5 mb-9"};function Re(e,t,n,o,c,g){const a=h("TableItemsPerPageSelect"),s=h("TablePagination");return l(),d("div",Ne,[P(a,{itemsPerPage:e.itemsCountInTable,"onUpdate:itemsPerPage":t[0]||(t[0]=i=>e.itemsCountInTable=i),"items-per-page-dropdown-enabled":e.itemsPerPageDropdownEnabled},null,8,["itemsPerPage","items-per-page-dropdown-enabled"]),e.pageCount>1?(l(),B(s,{key:0,"total-pages":e.pageCount,total:e.count,"per-page":e.itemsPerPage,"current-page":e.page,onPageChange:e.pageChange},null,8,["total-pages","total","per-page","current-page","onPageChange"])):T("",!0)])}const Ae=v(Be,[["render",Re]]),Oe=y({name:"kt-datatable",props:{header:{type:Array,required:!0},data:{type:Array,required:!0},itemsPerPage:{type:Number,default:10},itemsPerPageDropdownEnabled:{type:Boolean,required:!1,default:!0},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"},total:{type:Number,required:!1},loading:{type:Boolean,required:!1,default:!1},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},emptyTableText:{type:String,required:!1,default:"No data found"},currentPage:{type:Number,required:!1,default:1}},emits:["page-change","on-sort","on-items-select","on-items-per-page-change","custom-row"],components:{TableContent:pe,TableFooter:Ae},setup(e,{emit:t}){const n=b(e.currentPage),o=b(e.itemsPerPage);$(()=>o.value,m=>{n.value=1,t("on-items-per-page-change",m)});const c=m=>{n.value=m,t("page-change",m)},g=f(()=>{if(e.data){if(e.data.length<=o.value)return e.data;{let m=(n.value-1)*o.value;return e.data.slice(m,m+o.value)}}return[]}),a=f(()=>e.data?e.data.length<=o.value?e.total:e.data.length:0),s=m=>{t("on-sort",m)},i=m=>{t("on-items-select",m)},p=b();return{pageChange:c,dataToDisplay:g,onSort:s,onItemSelect:i,itemsInTable:o,totalItems:a,selectRow:p,customRowTable:m=>{p.value=m,t("custom-row",p.value)}}}}),Ve={class:"dataTables_wrapper dt-bootstrap4 no-footer"};function Fe(e,t,n,o,c,g){const a=h("TableContent"),s=h("TableFooter");return l(),d("div",Ve,[P(a,{onOnItemsSelect:e.onItemSelect,onOnSort:e.onSort,onCustomRow:e.customRowTable,header:e.header,data:e.dataToDisplay,checkboxEnabled:e.checkboxEnabled,checkboxLabel:e.checkboxLabel,"empty-table-text":e.emptyTableText,"sort-label":e.sortLabel,"sort-order":e.sortOrder,loading:e.loading},O({_:2},[_(e.$slots,(i,p)=>({name:p,fn:V(({row:r})=>[q(e.$slots,p,{row:r})])}))]),1032,["onOnItemsSelect","onOnSort","onCustomRow","header","data","checkboxEnabled","checkboxLabel","empty-table-text","sort-label","sort-order","loading"]),P(s,{onPageChange:e.pageChange,"current-page":e.currentPage,itemsPerPage:e.itemsInTable,"onUpdate:itemsPerPage":t[0]||(t[0]=i=>e.itemsInTable=i),count:e.totalItems,"items-per-page-dropdown-enabled":e.itemsPerPageDropdownEnabled},null,8,["onPageChange","current-page","itemsPerPage","count","items-per-page-dropdown-enabled"])])}const je=v(Oe,[["render",Fe]]);export{je as D};
